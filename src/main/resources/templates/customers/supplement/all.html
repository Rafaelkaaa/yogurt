<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css">
    <title>All supplement</title>
</head>
<body>
<form id="AddToCard" method="post" th:action="@{'/card/add'}" th:object="${cardVO}">
    <input type="hidden" id="productId" th:field="*{productId}" th:value="${product.id}"/>
    <input type="hidden" id="cardId" th:field="*{cardId}" th:value="${cardVO.getCardId()}"/>
    <input type="submit" value="Add to card"/>
</form>

<form method="get" th:action="@{'/card/' + ${cardVO.getCardId()}}">
    <input type="submit" value="Open card"/>
</form>

<h1 th:text = "'Curent ' + ${product.getProductType().getName().toLowerCase()} +' supplements: '"></h1>
<div th:each="supplement : ${product.getSupplements()}" >
    <p th:text = "${supplement.getName()}+ ' '+${supplement.getType().toLowerCase()}"></p>
</div>

<h2>Supplements</h2>
<table>
    <tbody>
    <tr th:each="supplement : ${supplements}"></td>
        <td th:text="${supplement.getName()}"></td>
        <td><img th:src="${supplement.getImage}" style="width:50px;height:50px;"></td>
        <td th:text="${supplement.getWeight()}"></td>
        <td>
            <form method="post" th:action="@{'/supplement/delete/'+ ${product.getId()} +'/'+ ${supplement.getId()}  + '?cardId=' + ${cardVO.getCardId()}}">
                <input type="submit" value="Remove"/>
            </form>
        </td>
        <td>
            <form method="post" th:action="@{'/supplement/add/' + ${product.getId()} +'/'+ ${supplement.getId()}  + '?cardId=' + ${cardVO.getCardId()}}">
                <input type="submit" value="Add"/>
            </form>
        </td>
    </tr>
    </tbody>
</table>
</body>
</html>